<div class="container-fluid form-group">
    <h1>Customer</h1>
    
    <form [formGroup]="fg" (ngSubmit)="postRecord(object)" novalidate>
        <p-tabView>
            <p-tabPanel header="Personal data" leftIcon="ui-icon-check" class="padding-top-20">

                <div class="row margin-top-30">
                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="ID."
                                type="text"
                                name="id" class="col-sm-6 col-md-3"></ps-input>
                    <ps-dropdown    [form]="fg"
                                    [errors]="formErrors"
                                    [autoWidth]="false"
                                    [options]="groups"
                                    name="group_id"
                                    class="col-sm-12 col-md-5">
                    </ps-dropdown>
                </div>

                <div class="row">
                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="Company"
                                type="text"
                                name="company" class="col-12"></ps-input>

                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="TIN"
                                type="text"
                                name="tin" class="col-sm-12 col-md-6"></ps-input>
                </div>

                <div class="row">
                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="Name"
                                type="text"
                                name="name" class="col-sm-12 col-md-4"></ps-input>

                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="Surname"
                                type="text"
                                name="surname" class="col-sm-12 col-md-8"></ps-input>
                </div>
                
                <div class="row">
                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="Email"
                                type="email"
                                name="email" class="col-sm-12 col-md-6"></ps-input>
                </div>

                <div class="row">
                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="Address"
                                type="text"
                                name="address" class="col-sm-12"></ps-input>
                </div>
                
                <ps-form-header title="Access data" icon="fa ui-icon-subject"></ps-form-header>

                <div class="row">
                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="User"
                                type="text"
                                name="user" class="col-sm-12 col-md-6"></ps-input>
                </div>  
                <div class="row">
                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="Password"
                                type="password"
                                name="password" class="col-12 col-md-6"></ps-input>
                </div>

                <!-- <div class="row">
                    <ps-input   [form]="fg" 
                                [errors]="formErrors"
                                label="Repeat password"
                                type="password"
                                name="re_password" class="col-12 col-md-6"></ps-input>
                </div> -->

                <div class="row">
                    <ps-checkbox    [form]="fg"
                                    name="active"
                                    label="Active" class="col-sm-12"></ps-checkbox>
                </div>

                <ps-form-header title="Geolocation" icon="fa ui-icon-subject"></ps-form-header>

                <ps-address [form]="fg"
                            [errors]="formErrors"
                            [countries]="countries"
                            [object]="object"></ps-address>
            </p-tabPanel>

            <p-tabPanel header="Addreses" leftIcon="ui-icon-edit" *ngIf="dataRoute.action === 'edit'">
                <!-- <ps-datatable-search [dataTable]="dataTableAddreses" label="Search"></ps-datatable-search> -->
                <p-dataTable    #dataTableAddreses
                                [value]="addresses" 
                                [rows]="10"
                                [responsive]="true"
                                [paginator]="false">
                
                    <p-column field="id" header="#" [sortable]="true"></p-column>
                    <p-column field="alias" header="Alias" [sortable]="true"></p-column>
                    <p-column field="name" header="Name" [sortable]="true"></p-column>
                    <p-column field="email" header="Email" [sortable]="true"></p-column>
                    <p-column field="type.name" header="Type" [sortable]="true"></p-column>
                    <p-column styleClass="col-button center">
                        <ng-template pTemplate="header">
                            @
                        </ng-template>
                        <ng-template let-object="rowData" pTemplate="body">
                            <!-- <div class="dropdown">
                                <button pButton type="button" icon="ui-icon-more-vert" class="datatable-actions dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" [routerLink]="[baseUri + '/show', object.id]">Edit</a>
                                    <a class="dropdown-item pointer" (click)="deleteRecord(f, object)">Delete</a>
                                </div>
                            </div> -->
                        </ng-template>
                    </p-column>
                </p-dataTable>
            </p-tabPanel>

            <!-- <p-tabPanel header="Attachments" leftIcon="ui-icon-attachment"></p-tabPanel> -->

        </p-tabView>


        <!-- buttons -->
        <div class="row justify-content-sm-center justify-content-md-start action-buttons margin-top-30">
            <ps-button  type="submit" 
                        icon="fa-check" 
                        label="Save" 
                        class="col-sm-10 col-md-3"></ps-button>

            <ps-button  type="button" 
                        icon="ui-icon-clear" 
                        label="Cancel" 
                        [routerLink]="[baseUri]"
                        class="col-sm-10 col-md-3"></ps-button>
        </div>
    </form>
</div>